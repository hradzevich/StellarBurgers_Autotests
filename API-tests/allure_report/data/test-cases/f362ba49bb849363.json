{"uid":"f362ba49bb849363","name":"Ошибка при попытке создания заказа с ингредиентами неавторизованным пользователем","fullName":"tests.test_create_order.TestCreateOrder#test_create_order_by_nonauthorized_user_error","historyId":"71be349b896562e7e99544566391427d","time":{"start":1759995343314,"stop":1759995343537,"duration":223},"description":"Тест проверяет, что при создании заказа без авторизации сервер возвращает ошибку","descriptionHtml":"<p>Тест проверяет, что при создании заказа без авторизации сервер возвращает ошибку</p>\n","status":"failed","statusMessage":"AssertionError: Ожидался статус 401, получили 200\nassert 200 == 401\n +  where 200 = <Response [200]>.status_code","statusTrace":"self = <tests.test_create_order.TestCreateOrder object at 0x106b95590>\norder_ingredients = ['61c0c5a71d1f82001bdaaa6d', '61c0c5a71d1f82001bdaaa6f', '61c0c5a71d1f82001bdaaa72']\n\n    @allure.title(\n        \"Ошибка при попытке создания заказа с ингредиентами неавторизованным пользователем\"\n    )\n    @allure.description(\n        \"Тест проверяет, что при создании заказа без авторизации сервер возвращает ошибку\"\n    )\n    def test_create_order_by_nonauthorized_user_error(self, order_ingredients):\n        with allure.step(\"Создание заказа\"):\n            create_order_response = OrderMethods.create_new_order(order_ingredients)\n    \n        with allure.step(\"Проверяем статус-код\"):\n>           assert (\n                create_order_response.status_code == 401\n            ), f\"Ожидался статус 401, получили {create_order_response.status_code}\"\nE           AssertionError: Ожидался статус 401, получили 200\nE           assert 200 == 401\nE            +  where 200 = <Response [200]>.status_code\n\ntests/test_create_order.py:53: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1759995338419,"stop":1759995338420,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"order_ingredients","time":{"start":1759995343109,"stop":1759995343314,"duration":205},"status":"passed","steps":[{"name":"Получение данных об ингредиентах","time":{"start":1759995343109,"stop":1759995343314,"duration":205},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"description":"Тест проверяет, что при создании заказа без авторизации сервер возвращает ошибку","status":"failed","statusMessage":"AssertionError: Ожидался статус 401, получили 200\nassert 200 == 401\n +  where 200 = <Response [200]>.status_code","statusTrace":"self = <tests.test_create_order.TestCreateOrder object at 0x106b95590>\norder_ingredients = ['61c0c5a71d1f82001bdaaa6d', '61c0c5a71d1f82001bdaaa6f', '61c0c5a71d1f82001bdaaa72']\n\n    @allure.title(\n        \"Ошибка при попытке создания заказа с ингредиентами неавторизованным пользователем\"\n    )\n    @allure.description(\n        \"Тест проверяет, что при создании заказа без авторизации сервер возвращает ошибку\"\n    )\n    def test_create_order_by_nonauthorized_user_error(self, order_ingredients):\n        with allure.step(\"Создание заказа\"):\n            create_order_response = OrderMethods.create_new_order(order_ingredients)\n    \n        with allure.step(\"Проверяем статус-код\"):\n>           assert (\n                create_order_response.status_code == 401\n            ), f\"Ожидался статус 401, получили {create_order_response.status_code}\"\nE           AssertionError: Ожидался статус 401, получили 200\nE           assert 200 == 401\nE            +  where 200 = <Response [200]>.status_code\n\ntests/test_create_order.py:53: AssertionError","steps":[{"name":"Создание заказа","time":{"start":1759995343315,"stop":1759995343533,"duration":218},"status":"passed","steps":[{"name":"Создание нового заказа","time":{"start":1759995343315,"stop":1759995343533,"duration":218},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"ingredients","value":"['61c0c5a71d1f82001bdaaa6d', '61c0c5a71d1f82001bdaaa6f', '61c0c5a71d1f82001bdaaa72']"},{"name":"access_token","value":"None"}],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":1,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Проверяем статус-код","time":{"start":1759995343533,"stop":1759995343534,"duration":1},"status":"failed","statusMessage":"AssertionError: Ожидался статус 401, получили 200\nassert 200 == 401\n +  where 200 = <Response [200]>.status_code\n","statusTrace":"  File \"/Users/Kitty/VS_Code/Diplom/Diplom_2/tests/test_create_order.py\", line 53, in test_create_order_by_nonauthorized_user_error\n    assert (\n        create_order_response.status_code == 401\n    ), f\"Ожидался статус 401, получили {create_order_response.status_code}\"\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"stepsCount":3,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"parentSuite","value":"API тесты Stellar Burger"},{"name":"suite","value":"Заказы"},{"name":"subSuite","value":"Создание заказа"},{"name":"host","value":"MacBook-Air--Hanna.local"},{"name":"thread","value":"38830-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.test_create_order"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"871d793f5f268f22","status":"failed","statusDetails":"AssertionError: Ожидался статус 401 или 403, получили 200\nassert 200 in [401, 403]\n +  where 200 = <Response [200]>.status_code","time":{"start":1759566017073,"stop":1759566017293,"duration":220}},{"uid":"7a65970870f152cd","status":"failed","statusDetails":"AssertionError: Ожидался статус 401 или 403, получили 200\nassert 200 in [401, 403]\n +  where 200 = <Response [200]>.status_code","time":{"start":1759499344944,"stop":1759499345172,"duration":228}}],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"f362ba49bb849363.json","parameterValues":[]}